unpack[stdin] = @0 as ? : True then spacchettpush('positions', @0)

closest[stdin] = @0 as ? : True then push_closest('positions', @0)

possession[positions] = @0 as {'type': 'ball'} -> .{0,1} -> @1 as {'type': 'closest'} : 
    @1['time'] == @0['time'] and distance(@0['position'], @1['position']) < 1.5 then
    push(['elementary', 'stdout'], {'type':'possession', 'player': {'id': @1['id'], 
    'team': @1['team']}, 'position': @0['position']})